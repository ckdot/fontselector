window.FontSelector=function(t){var e={};function n(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(o,s,function(e){return t[e]}.bind(null,s));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";e.__esModule=!0,n(1);var o=function(){function t(e,n){this.options=t.mergeOptionsWithDefaults(n),this.nativeSelectElement=document.querySelector(e),this.fonts=this.getFonts(),this.wrapperElement=this.wrapSelectElement(),this.selectedFontElement=this.createSelectedFontElement(),this.fontListListItemElements=this.createFontListListItemElements(),this.dropdownElement=this.createDropdownElement(),this.loadFonts(),this.wrapperElement.appendChild(this.dropdownElement)}return t.prototype.selectFont=function(t){var e=this.getFontByFamily(t);if(e){var n=this.getSelectedOption(),o=this.getFontFamilyClassName(n.value),s=this.getFontFamilyClassName(e.family),i=document.createElement("span");i.classList.add(this.options.dropdownSelectedFontNameClassName),this.selectedFontElement.classList.add(this.options.dropdownSelectedFontClassName,s),this.collapseFontList(),this.selectedFontElement.classList.remove(o),this.selectedFontElement.classList.add(s),i.textContent=e.name,this.selectedFontElement.innerHTML="",this.selectedFontElement.append(i),this.nativeSelectElement.value=e.family,this.options.onSelected(e)}},t.mergeOptionsWithDefaults=function(e){return e=Object.assign(t.getDefaultOptions(),e)},t.getDefaultOptions=function(){return{wrapperClassName:"font-selector-wrapper",dropdownClassName:"font-selector-dropdown",dropdownSelectedFontClassName:"font-selector-selected-font",dropdownSelectedFontNameClassName:"font-selector-selected-font-name",dropdownFontListClassName:"font-selector-font-list",isExpandedClassName:"font-selector-is-expanded",onExpanded:function(){},onSelected:function(){},onCollapsed:function(){}}},t.prototype.createDropdownElement=function(){var t=document.createElement("div"),e=document.createElement("ul");return this.fontListListItemElements.forEach((function(t){e.appendChild(t)})),t.classList.add(this.options.dropdownClassName),e.classList.add(this.options.dropdownFontListClassName),t.appendChild(this.selectedFontElement),t.appendChild(e),t},t.prototype.createSelectedFontElement=function(){var t=this,e=this.getSelectedOption(),n=e.value,o=e.textContent.trim(),s=document.createElement("a"),i=this.getFontFamilyClassName(n),a=document.createElement("span");return a.textContent=o,a.classList.add(this.options.dropdownSelectedFontNameClassName),s.append(a),s.classList.add(this.options.dropdownSelectedFontClassName,i),s.addEventListener("click",(function(){t.isExpanded()?t.collapseFontList():t.expandFontList()})),document.body.addEventListener("click",(function(e){e.target&&e.target===s||t.collapseFontList()})),s},t.prototype.isExpanded=function(){return this.dropdownElement.classList.contains(this.options.isExpandedClassName)},t.prototype.expandFontList=function(){this.dropdownElement.classList.add(this.options.isExpandedClassName),this.options.onExpanded()},t.prototype.collapseFontList=function(){this.dropdownElement.classList.remove(this.options.isExpandedClassName),this.options.onCollapsed()},t.prototype.createFontListListItemElements=function(){var t=this,e=[];return this.fonts.forEach((function(n){var o=document.createElement("li"),s=t.getFontFamilyClassName(n.family);o.classList.add(s),o.textContent=n.name,o.setAttribute("data-font",n.family),o.addEventListener("click",(function(){t.selectFont(o.getAttribute("data-font"))})),e.push(o)})),e},t.prototype.wrapSelectElement=function(){var t=this.nativeSelectElement.parentNode,e=document.createElement("div");return e.classList.add(this.options.wrapperClassName),t.insertBefore(e,this.nativeSelectElement),e.appendChild(this.nativeSelectElement),e},t.prototype.getSelectedOption=function(){return this.nativeSelectElement.options[this.nativeSelectElement.options.selectedIndex]},t.prototype.loadFonts=function(){var t=this;this.fonts.forEach((function(e){t.loadFont(e)}))},t.prototype.loadFont=function(t){var e=document.createElement("style");e.setAttribute("type","text/css"),e.innerHTML="\n@font-face { font-family: '"+t.family+"'; src: url('"+t.url+"'); }\n",e.innerHTML+="."+this.getFontFamilyClassName(t.family)+'{ font-family: "'+t.family+'"}',document.head.append(e)},t.prototype.getFontFamilyClassName=function(t){return"font-"+t.replace(/[^a-z0-9\-]/gi,"-").toLowerCase()},t.prototype.getFontByFamily=function(t){for(var e=0;e<this.fonts.length;e++){var n=this.fonts[e];if(n.family===t)return n}return null},t.prototype.getFonts=function(){for(var t=[],e=0;e<this.nativeSelectElement.options.length;e++){var n=this.nativeSelectElement.options[e],o={name:n.textContent.trim(),family:n.value,url:n.getAttribute("data-font-url")};t.push(o)}return t},t}();e.default=o},function(t,e,n){}]).default;